<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Creator</th>
    </tr>
  </thead>

  <tbody>
    <% @graphs.each do |graph| %>
      <tr>
        <td id ="<%=graph.id%>"class="graph-link"><%= graph.name %></td>
        <td><%=graph.graph_type.name%></td>
        <td><%=graph.user.name if graph.user%></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<script>
//load the partials. use histoy.pushState to assign an URL to the graph so we can use it as a shareable link. we do this without reloading the app
  $(".graph-link").on("click", function(event){
      //jump to top of page
      $(document).scrollTop($("#main-graph").offset().top);
      //load the graph
      $("#main-graph").load("/show_simple/" + event.target.id);
      //add to history
      history.pushState({}, '', "/graphs/" + event.target.id);
     
  });
  


</script>
